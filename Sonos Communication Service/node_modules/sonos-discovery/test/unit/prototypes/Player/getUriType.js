'use strict';

var expect = require('chai').expect;
var sinon = require('sinon');
var proxyquire = require('proxyquire');
var UriType = require('../../../../lib/types/uri-type');
require('chai').use(require('sinon-chai'));

describe('Player.getUriType', function () {
  var getUriType = require('../../../../lib/prototypes/Player/getUriType.js');

  describe('UriType enum', function () {

    it('should have type track', function () {
      expect(UriType.TRACK).to.exist;
    });

    it('should have type radio', function () {
      expect(UriType.RADIO).to.exist;
    });

    it('should have type line in', function () {
      expect(UriType.LINE_IN).to.exist;
    });
  });

  describe('When called with different types', function () {

    it('should be of type "radio"', function () {
      var type = getUriType('x-sonosapi-stream:s20308?sid=254&flags=32');
      expect(type).to.equal(UriType.RADIO);
    });

    it('should be of type "line-in"', function () {
      var type = getUriType('x-rincon-stream:RINCON_00000000000001400');
      expect(type).to.equal(UriType.LINE_IN);
    });

    it('should be of type "track"', function () {
      var type = getUriType('x-rincon-queue:RINCON_00000000000001400#0');
      expect(type).to.equal(UriType.TRACK);
    });
  });
});